name: $(Rev:r)

# Set the pipeline variable `pipelineProvider` to one of `Azure` `AzureAD` `Aws` `Kubernetes`

variables:
  # Create a variable group called NuGet
  # and add the variable `apiKey`
  - group: NuGet

trigger:
  branches:
    include:
      - master
  paths:
    include:
      - Pulumi.FSharp.Myriad/*
      - Pulumi.FSharp.$(pipelineProvider)/*

pool:
  vmImage: ubuntu-latest

steps:
- task: DotNetCoreCLI@2
  inputs:
    command: custom
    custom: new
    arguments: tool-manifest

- task: DotNetCoreCLI@2
  inputs:
    command: custom
    custom: tool
    arguments: install fake-cli

- task: DotNetCoreCLI@2
  inputs:
    command: custom
    custom: fake
    arguments: run